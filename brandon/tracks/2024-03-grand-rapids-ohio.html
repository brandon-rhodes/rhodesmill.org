<html>
  <head>
    <meta charset="utf-8" />
    <link
      rel="stylesheet"
      href="https://unpkg.com/leaflet@1.3.4/dist/leaflet.css"
      integrity="sha512-puBpdR0798OZvTTbP4A8Ix/l+A4dHDD0DGqYW6RQ+9jxkRFclaxxQb/SJAWZfWAkuyeQUytO7+7N4QKrDh+drA=="
      crossorigin=""
      />
    <script
      src="https://unpkg.com/leaflet@1.3.4/dist/leaflet.js"
      integrity="sha512-nMMmRyTVoLYqjP9hrbed9S+FzjZHW5gY1TWCHA5ckwXZBadntCNs8kEqAWdrb9O7rxbCaA4lKTIWjDXZxflOcA=="
      crossorigin=""
      ></script>
    <script src="L.timezones.js"></script>
    <script
      src="https://unpkg.com/leaflet-ajax@2.1.0/dist/leaflet.ajax.js"
      ></script>
    <script src="https://unpkg.com/esri-leaflet@2.3.2/dist/esri-leaflet.js"
            integrity="sha512-6LVib9wGnqVKIClCduEwsCub7iauLXpwrd5njR2J507m3A2a4HXJDLMiSZzjcksag3UluIfuW1KzuWVI5n/cuQ=="
            crossorigin=""></script>
    <style>
      td {
          font-family: monospace;
          text-align: right;
      }
      #map {height: 80%; width: 98%;}
      .my-div-icon {
          border: 2px solid black;
          border-radius: 4px;
      }
      .my-tooltip.leaflet-tooltip {
          pointer-events: auto;
      }
      .my-tooltip {
          border: none;
          border-radius: 1em;
          background: none;
          box-shadow: none;
          line-height: 1em;
          font-weight: bold;
      }
      /*.my-tooltip:hover {
          background: white;
      }*/
      .my-tooltip::before {
          content: none;
      }
    </style>
  </head>
  <body>
    2024 March 3 â€”
    3.72 miles
      in 1:29:55 at 2.48 miles per hour
    <div id="map" style="border: 5px solid black"></div>
    <table>
      <tr>
        <th>Mile</th>
        <th>Gain</th>
        <th>Loss</th>
        <th></th>
        <th>Total</th>
        <th>Elevation</th>
        <th>Start</th>
        <th>End</th>
        <th>Duration</th>
        <th>MPH</th>
      </tr>
      <tr>
        <td>1</td>
        <td>+47</td>
        <td>+0</td>
        <td>=</td>
        <td>+47</td>
        <td>629</td>
        <td>10:10</td>
        <td>10:35</td>
        <td>25:08</td>
        <td>2.38</td>
      </tr>
      <tr>
        <td>2</td>
        <td>+23</td>
        <td>+0</td>
        <td>=</td>
        <td>+23</td>
        <td>652</td>
        <td>10:35</td>
        <td>11:03</td>
        <td>27:38</td>
        <td>2.17</td>
      </tr>
      <tr>
        <td>3</td>
        <td>-16</td>
        <td>+0</td>
        <td>=</td>
        <td>-16</td>
        <td>636</td>
        <td>11:03</td>
        <td>11:25</td>
        <td>21:26</td>
        <td>2.80</td>
      </tr>
      <tr>
        <td>4</td>
        <td>-1</td>
        <td>+0</td>
        <td>=</td>
        <td>-1</td>
        <td>635</td>
        <td>11:25</td>
        <td>11:40</td>
        <td>15:41</td>
        <td>2.73</td>
      </tr>
    </table>
    <script>
      //var maxZoom = 15;
      var maxZoom = 18;
      var map = L.map('map', {maxZoom: maxZoom});

      // L.esri.tiledMapLayer({
      //     url: 'https://services.arcgisonline.com' +
      //         '/ArcGIS/rest/services/USA_Topo_Maps/MapServer'
      // }).addTo(map);

      L.tileLayer( 'http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
          attribution: '&copy; <a href="https://www.openstreetmap.org/copyright">OpenStreetMap</a>',
          subdomains: ['a','b','c']
      }).addTo( map );

      latlngs = [[41.4128415, -83.865865], [41.4132453, -83.8658014], [41.4132767, -83.8656716], [41.4133305, -83.8653426], [41.4128891, -83.8654417], [41.412838, -83.8653682], [41.4129948, -83.8647874], [41.4130861, -83.8645187], [41.4132599, -83.8639764], [41.4133, -83.8637462], [41.4133924, -83.8633903], [41.4133531, -83.8627824], [41.4132991, -83.8622211], [41.413282, -83.8616111], [41.4133997, -83.8610904], [41.4138307, -83.8609157], [41.4142718, -83.8607904], [41.4147081, -83.8606338], [41.4151593, -83.8605266], [41.4152157, -83.8604946], [41.4151971, -83.8599026], [41.4153526, -83.8596729], [41.4151401, -83.859429], [41.4151486, -83.8588289], [41.4151847, -83.8587872], [41.4152353, -83.8586209], [41.4151807, -83.8580131], [41.4151722, -83.8574162], [41.415324, -83.857392], [41.4154643, -83.8574112], [41.4155295, -83.8574244], [41.4157507, -83.8572912], [41.4157619, -83.8571249], [41.4158799, -83.8565303], [41.4160534, -83.8559686], [41.4162203, -83.8555025], [41.4166206, -83.8552214], [41.4170053, -83.8548708], [41.4174106, -83.8545782], [41.4178506, -83.8544956], [41.4179051, -83.8544863], [41.4183262, -83.8542614], [41.4187672, -83.8540747], [41.4192204, -83.8539999], [41.4196564, -83.8540444], [41.4200502, -83.8537314], [41.4203375, -83.8532731], [41.4206113, -83.8530057], [41.4209591, -83.8527703], [41.4209119, -83.8525582], [41.4210197, -83.8526076], [41.4210492, -83.8525996], [41.4213373, -83.8523664], [41.4215564, -83.8522808], [41.4220042, -83.8523422], [41.4220999, -83.8521535], [41.4225202, -83.8519339], [41.4226766, -83.8518634], [41.4229994, -83.8514631], [41.4230584, -83.8514282], [41.4234393, -83.8511135], [41.4238054, -83.8507761], [41.4239041, -83.85077], [41.4239757, -83.8507352], [41.4243053, -83.850335], [41.4243674, -83.8503159], [41.4246921, -83.8498988], [41.4249782, -83.8494366], [41.4252765, -83.8489865], [41.4254518, -83.8488187], [41.4255355, -83.8483941], [41.4256142, -83.8482763], [41.425884, -83.8478591], [41.4259024, -83.8478121], [41.426124, -83.8472878], [41.4262152, -83.8471556], [41.4264404, -83.8466671], [41.4266488, -83.8461799], [41.426684, -83.8460038], [41.4266924, -83.8459792], [41.426727, -83.8458843], [41.4267014, -83.8459425], [41.4265594, -83.8463303], [41.426551, -83.8463561], [41.4263342, -83.8468593], [41.4263131, -83.8468875], [41.4262655, -83.8471872], [41.4263622, -83.8475481], [41.4263356, -83.8476329], [41.4261222, -83.8481671], [41.4258911, -83.8486793], [41.4257035, -83.849027], [41.4253385, -83.849337], [41.4253571, -83.8498802], [41.4252236, -83.8503114], [41.424973, -83.8502473], [41.42468, -83.8504799], [41.4246634, -83.8505084], [41.4244223, -83.8510168], [41.4245081, -83.8515641], [41.4241982, -83.8519741], [41.4238479, -83.8523298], [41.4237819, -83.8522963], [41.4236616, -83.8523157], [41.4233485, -83.8527398], [41.4230421, -83.8529879], [41.4228181, -83.8534974], [41.422622, -83.8538133], [41.4224461, -83.8537251], [41.4221597, -83.8532967], [41.4218409, -83.8529498], [41.421422, -83.8529883], [41.4211517, -83.8534346], [41.4209475, -83.8539702], [41.4208097, -83.8541161], [41.4204149, -83.8538264], [41.4201904, -83.8536668], [41.4197688, -83.85387], [41.4194391, -83.8539808], [41.4189954, -83.8539333], [41.4185588, -83.8541114], [41.4181343, -83.8543173], [41.4178122, -83.8544818], [41.4174688, -83.8545818], [41.4170571, -83.854847], [41.4166716, -83.8551582], [41.416352, -83.8553942], [41.4159974, -83.8556958], [41.415869, -83.8562799], [41.415771, -83.8568708], [41.4157472, -83.8570783], [41.4156403, -83.8574197], [41.4156155, -83.8574175], [41.415394, -83.8574768], [41.4153253, -83.8580776], [41.4151659, -83.8586262], [41.4151042, -83.8588287], [41.4151055, -83.8594086], [41.4150977, -83.8594822], [41.4150981, -83.8598922], [41.4152112, -83.8602403], [41.4152099, -83.8604884], [41.4151515, -83.8605759], [41.4147017, -83.8606787], [41.4142696, -83.8608478], [41.4138247, -83.8609914], [41.4133815, -83.8611296], [41.4132318, -83.8616308], [41.4132523, -83.8618059], [41.4133286, -83.8624063], [41.4133249, -83.8630162], [41.4132865, -83.8635318], [41.413098, -83.8640732], [41.4130395, -83.8646736], [41.4128775, -83.8652101], [41.4128064, -83.8658074], [41.4128029, -83.8658411]];
      layer = L.polyline(latlngs, {color: 'red'});
      layer.addTo(map);

      map.fitBounds(layer.getBounds(), {maxZoom: maxZoom});

      var icons = [{"lat": 41.41829429429714, "lon": -83.85427844011535, "label": "1 mi<br>10:35 am"}, {"lat": 41.42632044307005, "lon": -83.84767084204303, "label": "2 mi<br>11:03 am"}, {"lat": 41.4163595293467, "lon": -83.85538864015702, "label": "3 mi<br>11:25 am"}];

      for (i=0; i < icons.length; i++) {
          var icon = icons[i];

          var myIcon = L.divIcon({
              className: 'my-div-icon',
              iconSize: 4
          });

          var marker = L.marker([icon['lat'], icon['lon']], {
              icon: myIcon
          })
              .bindTooltip(icon['label'],
                           {
                               permanent: true,
                               direction: 'right',
                               className: 'my-tooltip'
                           }
                          ).addTo(map);
      }

/*
 gpsbabel -i garmin_fit -f ~/Downloads/96270558.FIT -o geojson -F test.json
*/

    </script>
  </body>
</html>
